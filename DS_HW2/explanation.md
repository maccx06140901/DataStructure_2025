
---

## ðŸ§© ä¸€ã€ç‚ºä»€éº¼è¦è½‰æˆå‰åºï¼Ÿ

åœ¨ä¸­åºè¡¨ç¤ºå¼ä¸­ï¼ˆä¾‹å¦‚ `3 + 4 * 2`ï¼‰ï¼Œ  
æˆ‘å€‘éœ€è¦åŒæ™‚è€ƒæ…® **é‹ç®—å­å„ªå…ˆæ¬Š** ä»¥åŠ **æ‹¬è™Ÿ**ã€‚  
ä¹Ÿå°±æ˜¯èªªï¼š
- `*` å’Œ `/` çš„å„ªå…ˆæ¬Šæ¯” `+` å’Œ `-` é«˜ï¼›
- æ‹¬è™Ÿåˆå¯èƒ½æ”¹è®ŠåŽŸæœ¬çš„é †åºã€‚

é€™ä½¿å¾—ã€Œé‚Šè®€é‚Šç®—ã€çš„éŽç¨‹å¾ˆè¤‡é›œã€‚

è€Œå‰åº (Prefix) çš„ç‰¹é»žæ˜¯ï¼š
- é‹ç®—å­æ°¸é åœ¨å®ƒçš„å…©å€‹é‹ç®—å…ƒå‰é¢ï¼›
- å„ªå…ˆæ¬Šèˆ‡æ‹¬è™Ÿçš„è³‡è¨Šå·²ç¶“è¢«è½‰æ›éŽç¨‹æ±ºå®šï¼›
- æ‰€ä»¥åœ¨æ±‚å€¼éšŽæ®µåªéœ€ **ä¸€å€‹å †ç–Š (stack)** å°±èƒ½å®Œæˆè¨ˆç®—ã€‚

> ðŸ’¡ ç°¡å–®èªªï¼š  
> **æŠŠã€Œèª°å…ˆç®—ã€çš„é‚è¼¯æå‰è™•ç†å¥½ï¼Œè¨ˆç®—å°±è®Šæˆç´”æ©Ÿæ¢°æ“ä½œã€‚**

---

## âš™ï¸ äºŒã€æ¼”ç®—æ³•æµç¨‹ï¼ˆShunting-yard å»ºæ¨¹æ³•ï¼‰

1. **æº–å‚™å…©å€‹å †ç–Šï¼š**
   - `op_stack`ï¼šå­˜æ”¾é‹ç®—å­ï¼›
   - `node_stack`ï¼šå­˜æ”¾ç¯€é»žï¼ˆæ•¸å­—æˆ–å­æ¨¹ï¼‰ã€‚

2. **å¾žå·¦åˆ°å³æŽƒæ tokenï¼š**
   - è‹¥ç‚ºæ•¸å­—ï¼šå»ºç«‹è‘‰ç¯€é»žæŽ¨å…¥ `node_stack`
   - è‹¥ç‚º `(`ï¼šæŽ¨å…¥ `op_stack`
   - è‹¥ç‚º `)`ï¼š  
     - ä¸æ–·å½ˆå‡º `op_stack` ç›´åˆ°é‡åˆ° `(`  
     - æ¯æ¬¡å½ˆå‡ºé‹ç®—å­æ™‚ï¼Œå¾ž `node_stack` å–å…©æ£µå­æ¨¹å»ºç«‹æ–°ç¯€é»žå†æŽ¨å›žã€‚
   - è‹¥ç‚ºé‹ç®—å­ï¼š
     - åªè¦å †é ‚çš„é‹ç®—å­å„ªå…ˆæ¬Šé«˜æ–¼æˆ–ç­‰æ–¼ç›®å‰çš„é‹ç®—å­ï¼Œ  
       å°±å…ˆè™•ç†å †é ‚ï¼ˆå»ºç«‹ç¯€é»žï¼‰ï¼›
     - ç„¶å¾Œå†æŠŠç›®å‰é‹ç®—å­æŽ¨å…¥ `op_stack`ã€‚

3. **è™•ç†å‰©é¤˜å †ç–Šï¼š**
   - ç•¶è¼¸å…¥è®€å®Œå¾Œï¼ŒæŠŠ `op_stack` ä¸­å‰©é¤˜é‹ç®—å­ä¾åºå½ˆå‡ºä¸¦å»ºæ¨¹ã€‚

4. **æœ€å¾Œ `node_stack` åªå‰©ä¸€æ£µæ¨¹ï¼Œå°±æ˜¯å®Œæ•´çš„é‹ç®—æ¨¹ã€‚**

---

## ðŸ§® ä¸‰ã€é‹ç®—æ¨¹æ±‚å€¼

æŽ¡ç”¨éžè¿´æ±‚å€¼ï¼š
```c
int cal(Node* root) {
    if (root == NULL) return 0;
    if (root->is_num == 1) return root->num;
    int left  = cal(root->left);
    int right = cal(root->right);
    switch (root->ch) {
        case '+': return left + right;
        case '-': return left - right;
        case '*': return left * right;
        case '/': return left / right; // æ•´æ•¸é™¤æ³•
    }
    return 0;
}
